// This file is auto-generated by @hey-api/openapi-ts

import { createClient, createConfig, type Options } from '@hey-api/client-fetch';
import type { PostBboxData, PostBboxError, PostBboxResponse, GetBuildingsByIdData, GetBuildingsByIdError, GetBuildingsByIdResponse, GetGeocodeData, GetGeocodeError, GetGeocodeResponse } from './types.gen';

export const client = createClient(createConfig());

/**
 * Get buildings in bounding box area
 * Fetches all buildings within specified bounding box. For new buildings (not in DB):
 * - Fetches from Overpass API
 * - Checks asbestos database
 * - Calls ML service for prediction
 * - Saves to database
 * Returns all buildings with statistics.
 *
 */
export const postBbox = <ThrowOnError extends boolean = false>(options: Options<PostBboxData, ThrowOnError>) => {
    return (options?.client ?? client).post<PostBboxResponse, PostBboxError, ThrowOnError>({
        ...options,
        url: '/bbox'
    });
};

/**
 * Get building by ID
 */
export const getBuildingsById = <ThrowOnError extends boolean = false>(options: Options<GetBuildingsByIdData, ThrowOnError>) => {
    return (options?.client ?? client).get<GetBuildingsByIdResponse, GetBuildingsByIdError, ThrowOnError>({
        ...options,
        url: '/buildings/{id}'
    });
};

/**
 * Search for address using geocoding
 * Forward geocoding to find coordinates for address (uses Mapbox API)
 */
export const getGeocode = <ThrowOnError extends boolean = false>(options: Options<GetGeocodeData, ThrowOnError>) => {
    return (options?.client ?? client).get<GetGeocodeResponse, GetGeocodeError, ThrowOnError>({
        ...options,
        url: '/geocode'
    });
};
// This file is auto-generated by @hey-api/openapi-ts

export type ClientOptions = {
    baseUrl: 'http://localhost:3000/api' | (string & {});
};

/**
 * [longitude, latitude] pair
 */
export type Coordinate = [
    number,
    number
];

/**
 * Array of coordinates forming building outline
 */
export type Polygon = Array<Coordinate>;

export type Centroid = {
    lng: number;
    lat: number;
};

export type Building = {
    id: string;
    polygon: Polygon;
    centroid: Centroid;
    /**
     * Whether building is in asbestos database
     */
    isAsbestos: boolean;
    /**
     * ML model prediction (null if not yet processed)
     */
    isPotentiallyAsbestos: boolean | null;
    createdAt: string;
    updatedAt: string;
};

export type BuildingWithAddress = Building & {
    /**
     * Full address from reverse geocoding
     */
    address?: string | null;
    /**
     * City name from reverse geocoding
     */
    city?: string | null;
    /**
     * Country name from reverse geocoding
     */
    country?: string | null;
};

export type BBoxRequest = {
    /**
     * North-east corner of bounding box
     */
    ne: {
        lat: number;
        lng: number;
    };
    /**
     * South-west corner of bounding box
     */
    sw: {
        lat: number;
        lng: number;
    };
};

export type BBoxStats = {
    /**
     * Total number of buildings
     */
    total: number;
    /**
     * Number of buildings with confirmed asbestos
     */
    asbestos: number;
    /**
     * Number of buildings with ML prediction for asbestos
     */
    potentiallyAsbestos: number;
    /**
     * Number of clean buildings
     */
    clean: number;
    /**
     * Number of buildings not yet processed by ML
     */
    unknown: number;
};

export type BBoxResponse = {
    data: {
        buildings?: Array<Building>;
        stats?: BBoxStats;
    } | null;
    error: {
        message?: string;
        code?: string;
    } | null;
};

export type BuildingResponse = {
    data: Building | null;
    error: {
        message?: string;
        code?: string;
    } | null;
};

export type GeocodeResult = {
    placeName: string;
    center: Coordinate;
};

export type GeocodeResponse = {
    data: {
        results?: Array<GeocodeResult>;
    } | null;
    error: {
        message?: string;
        code?: string;
    } | null;
};

export type BatchGeocodeRequest = {
    /**
     * Array of coordinates to reverse geocode (max 1000)
     */
    coordinates: Array<{
        latitude: number;
        longitude: number;
    }>;
};

export type ReverseGeocodeResult = {
    latitude?: number;
    longitude?: number;
    /**
     * Full address or null if not found
     */
    address?: string | null;
    /**
     * City name or null if not found
     */
    city?: string | null;
    /**
     * Country name or null if not found
     */
    country?: string | null;
};

export type BatchGeocodeResponse = {
    data: {
        results?: Array<ReverseGeocodeResult>;
    } | null;
    error: {
        message?: string;
        code?: string;
    } | null;
};

export type ErrorResponse = {
    data: unknown;
    error: {
        message: string;
        code: string;
    };
};

export type PostBboxData = {
    body: BBoxRequest;
    path?: never;
    query?: never;
    url: '/bbox';
};

export type PostBboxErrors = {
    /**
     * Invalid bounding box (too large - max ~2km Ã— 2km, or invalid coordinates)
     */
    400: ErrorResponse;
    /**
     * Internal server error
     */
    500: ErrorResponse;
};

export type PostBboxError = PostBboxErrors[keyof PostBboxErrors];

export type PostBboxResponses = {
    /**
     * Successfully retrieved buildings
     */
    200: BBoxResponse;
};

export type PostBboxResponse = PostBboxResponses[keyof PostBboxResponses];

export type GetBuildingsByIdData = {
    body?: never;
    path: {
        id: string;
    };
    query?: never;
    url: '/buildings/{id}';
};

export type GetBuildingsByIdErrors = {
    /**
     * Building not found
     */
    404: ErrorResponse;
    /**
     * Internal server error
     */
    500: ErrorResponse;
};

export type GetBuildingsByIdError = GetBuildingsByIdErrors[keyof GetBuildingsByIdErrors];

export type GetBuildingsByIdResponses = {
    /**
     * Building found
     */
    200: BuildingResponse;
};

export type GetBuildingsByIdResponse = GetBuildingsByIdResponses[keyof GetBuildingsByIdResponses];

export type GetGeocodeData = {
    body?: never;
    path?: never;
    query: {
        /**
         * Address search query
         */
        query: string;
    };
    url: '/geocode';
};

export type GetGeocodeErrors = {
    /**
     * Invalid query
     */
    400: ErrorResponse;
    /**
     * Internal server error
     */
    500: ErrorResponse;
};

export type GetGeocodeError = GetGeocodeErrors[keyof GetGeocodeErrors];

export type GetGeocodeResponses = {
    /**
     * Geocoding results
     */
    200: GeocodeResponse;
};

export type GetGeocodeResponse = GetGeocodeResponses[keyof GetGeocodeResponses];

export type PostGeocodeBatchData = {
    body: BatchGeocodeRequest;
    path?: never;
    query?: never;
    url: '/geocode/batch';
};

export type PostGeocodeBatchErrors = {
    /**
     * Invalid request (invalid coordinates or too many)
     */
    400: ErrorResponse;
    /**
     * Internal server error
     */
    500: ErrorResponse;
};

export type PostGeocodeBatchError = PostGeocodeBatchErrors[keyof PostGeocodeBatchErrors];

export type PostGeocodeBatchResponses = {
    /**
     * Batch geocoding results
     */
    200: BatchGeocodeResponse;
};

export type PostGeocodeBatchResponse = PostGeocodeBatchResponses[keyof PostGeocodeBatchResponses];
